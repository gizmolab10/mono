# Hierarchy of SO


- [x] rename Trivial -> Setup
- [ ] Multiple SO (named)
- [ ] Add name input field to details
	- [ ] sync it to selected SO
- [ ] store current SO name in localStorage

## Tasks

### 1. Active SO store
- [x] Name the single SO "A"
- [ ] Add `w_active_so` writable to `Setup.ts` (alongside `w_scale`)
- [ ] Set it during `init()` after creating the SO

### 2. Wire Details panel
- [ ] Subscribe to `w_active_so` in `Details.svelte`
- [ ] Show SO name in editable text input
- [ ] On change, update `so.name` and call `persistence.save()`

### 3. Multi-SO loading
- [ ] Load *all* `saved.smart_objects` in `init()` (not just `[0]`)
- [ ] Create an O_Scene for each, register with `hits_3d`
- [ ] First loaded (or only) SO becomes active

### 4. Persist active selection
- [ ] Add `active_name` to `Saved_Scene` in `Persistence.ts`
- [ ] Save active SO name on switch
- [ ] Restore active selection on load

### Files

| File | Change |
|------|--------|
| `src/lib/ts/render/Setup.ts` | `w_active_so` store, multi-SO loading |
| `src/lib/svelte/main/Details.svelte` | name input, wired to store |
| `src/lib/ts/managers/Persistence.ts` | `active_name` field in `Saved_Scene` |