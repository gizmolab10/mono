# Details

## Work Remaining

- [x] add a toggle button to D_Selection titled "hide" / "show" -- hide means do not draw the SO or its decorations
- [x] add a margin 8px at right and left of both D_Selection tables
- [x] "reset preferences" button
- [x] default accent color -> glow too faint
- [x] in D List, remove ALL the inches signifiers (just show raw number)
  - [x] positions are all NaN
- [x] lists
	- [x] indent children
	- [x] add toggle button: position/size
	- [x] only show position OR size
- [x] move add button to glow banner as a +
	- [x] move add child (same)
- [x] move to bottom row of parts
	- [x] delete all children
	- [x] duplicate
	- [x] show
- [x] rename d smart object -> d attributes
- [x] d parts -> d assembly
- [x] new banner -> editor
- [x] assembly table -> v arrow keys change selection
- [x] rename editor -> selection
- [x] parts: convert position/size (clickable label into a button) with "<->" decoration -- same as in the swap x <-> y button
- [x] add a "<->" to the 2D/3D and to the solid/see through buttons
- [x] add a "<->" to the "no/has" fireblocks and remove the "has"
- [x] move + button from attributes banner -> assembly
- [x] while editing a cell in a table
	- [x] all tables and lists (eg, parts)
	- [x] type return -> edit first editable cell below
	- [x] type tab -> edit cell to right or first editable cell below
	- [x] MUST use e.handle_key_down as trigger
- [x] Portable_SO -- add "visible" prop
- [x] **Load scenes without reloading** — parse, teardown old scene, build new one in-place
- [ ] ability to collapse parts
- [ ] new section in d selected (use a sep div)
	- [ ] title "fit to parent axis"
	- [ ] segmented control {x, y, z}
	- [ ] adds .s and .l to corresponding formula for chosen axis (segment)

## File structure

```
svelte/details/
  Details.svelte      — layout shell, banner-zone, three Hideables
  Hideable.svelte     — generic collapsible: banner button + slot
  D_Preferences.svelte — units, precision, line thickness, colors
  D_Selection.svelte   — name field, add-child button
  D_Library.svelte     — import/export buttons
```

### Details.svelte

Thin shell. Sets CSS vars (`--accent`, `--bg`) and wraps three `<Hideable>` in a `.banner-zone` div. No business logic — all content lives in D_* components.

### Hideable.svelte

- Banner: pill-shaped button (22px tall, `border-radius: 11px`, no border)
- `::before` pseudo-element for radial gradient glow
- Hover (`[data-hitting]`): gradient replaced with `var(--bg)` (panel background)
- Slot: panel background, 11px border-radius, appears below banner when open
- Wired to `hit_target` system, `hits.recalibrate()` on toggle

## Banner-zone styling

- `background: var(--accent)` fills gaps between pill banners
- `::after` pseudo-element: 11px tall, `var(--bg)` background, `border-radius: 11px 11px 0 0` — rounded footer below last hideable
- Last hideable's slot gets `border-bottom: 3px solid var(--accent)`

## Visibility

Each hideable backed by a persistent `Writable<boolean>` store (`w_show_preferences`, `w_show_selection`, `w_show_library`) saved to localStorage via `T_Preference` enum keys.