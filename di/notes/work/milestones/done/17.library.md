# Work

i want a decent UX for a library of SO files in D_Library.svelte

## Work Remaining

- [x] add child -> disaster
- [x] move reset button -> D_Library
- [x] move library up -> between preferences and selection
- [x] add reset button to bottom row of library -> delete all and restore from src/assets
- [x] open library -> 1/2 second hesitation (unnecessary! file io?)
- [x] replace hr in library with separator
- [ ] 2 new buttons below list
	- [ ] insert -- add clicked on item as child to
		- [ ] currently selected SO, or root if nothing is selected
	- [ ] replace -- eliminate current root SO and substitute clicked on item


---

- [x] decide where the files are stored/uploadable from
	1. bundled defaults ship in `src/assets/*.di` via glob import
	2. user-created files stored in IndexedDB (keyed by name)
	3. library panel merges both sources (user files override bundled with same name)
	4. `+ library` saves to IDB + anchor-downloads to disk (durable backup)
	5. `export` anchor-downloads only (no IDB save)
- [x] scan the files there, create list of clickable items (table with two columns)
	- [x] name
	- [x] size
- [x] click -> replaces existing graph with SO from file clicked on
- [x] OPTION-click -> inserts SO as child of selected SO
- [x] ability to clear current SO (repurpose reset button -> erase all children)
- [x] ability to add current root SO -> library (IDB + download)
- [x] library panel reads from bundled glob + IDB
- [x] removed export button (redundant with save)
- [x] moved clear to D_Selection as "delete all children", disabled when selected SO has no children
- [x] moved show/hide back to name-row
- [x] add child pushed to far right of actions-row
- [x] unified slot padding to 8px, all vertical gaps to 8px
- [x] disabled cells use accent color
- [x] reset preferences button (clears localStorage except scene/library, reloads)