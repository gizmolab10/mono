# Milestone 9: Persistence

Save/load scene state.

---

## Goals

- [ ] JSON Serialize
	- [ ] SO state (bounds, orientation)
	- [ ] camera orientation
- [ ] Save to localStorage
	- [ ] Multiple scenes (named)
	- [ ] Add name input field to details
	- [ ] port banners, glow buttons, details from ws
- [ ] Load latest one on app start
	- [ ] store its name in localStorage
- [ ] Clear/reset option
- [ ] Ability to Export/import to file

## Format Research

| Format          | Speed                        | Size           | Human Readable | Notes                          |
| --------------- | ---------------------------- | -------------- | -------------- | ------------------------------ |
| **JSON**        | Baseline                     | Largest        | Yes            | Universal, easy debugging      |
| **MessagePack** | ~37% faster                  | ~15% smaller   | No             | Best performance overall       |
| **CBOR**        | ~27% faster                  | ~27% smaller   | No             | AWS-friendly, JSON-like schema |
| **BSON**        | Slower encode, faster decode | Larger than MP | No             | MongoDB native                 |

Key findings:
- **MessagePack** wins on raw performance — 10K objects serialize in ~918μs
- **CBOR** is the best drop-in JSON replacement (same data model, binary encoding)
- **JSON** still solid for debugging and human editing

**Decision:** Use JSON — readable, debuggable, localStorage-friendly. If performance becomes an issue, use MessagePack or CBOR (same structure, just binary).

Sources:
- [SitePoint: Data Serialization Comparison](https://www.sitepoint.com/data-serialization-comparison-json-yaml-bson-messagepack/)
- [DEV: JSON Alternatives](https://dev.to/nikl/json-is-slower-here-are-its-4-faster-alternatives-2g30)
- [Zderadicka: JSON vs CBOR vs MessagePack](https://zderadicka.eu/comparison-of-json-like-serializations-json-vs-ubjson-vs-messagepack-vs-cbor/)

## Implementation

TBD

---

## Notes

