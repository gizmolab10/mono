# Hierarchy of SO


- [x] rename Trivial -> Setup
- [x] Multiple SO (named)
- [x] Add name input field to details
	- [x] sync it to selected SO
- [x] store current SO name in localStorage
- [x] ability to add another SO, as a child to the active SO
- [x] rename active -> root
- [x] add a store and preference for the selected SO and its selected face
- [x] put its name in the Name input field
- [x] to each rendered SO add its name to each front-facing face (small font, gray color)
- [x] add a row of buttons in details, one for each SO, click -> selects front-most-facing face of that SO

## Tasks

### 1. Active SO store
- [x] Name the single SO "A"
- [x] Add `w_active_so` writable to `Setup.ts` (alongside `w_scale`)
- [x] Set it during `init()` after creating the SO

### 2. Wire Details panel
- [x] Subscribe to `w_active_so` in `Details.svelte`
- [x] Show SO name in editable text input
- [x] On change, update `so.name` and call `scenes.save()`

### 3. Multi-SO loading
- [x] Load *all* `saved.smart_objects` in `init()` (not just `[0]`)
- [x] Create an O_Scene for each, register with `hits_3d`
- [x] First loaded (or only) SO becomes active

### 4. Persist active selection
- [x] Add `active_name` to `Saved_Scene` in `Scenes.ts`
- [x] Save active SO name on switch
- [x] Restore active selection on load

### 5. Add child SO to active SO
- [x] `Setup.ts` — `add_child_so()`: create SO + O_Scene with `parent` = active scene, register, set active, save
- [x] `Scenes.ts` — serialize `parent_name` per SO, restore parent refs on load
- [x] `Details.svelte` — "add child" button, wired to `add_child_so()`

### Files

| File | Change |
|------|--------|
| `src/lib/ts/render/Setup.ts` | `w_active_so` store, multi-SO loading, `add_child_so()` |
| `src/lib/svelte/main/Details.svelte` | name input, wired to store, add child button |
| `src/lib/ts/managers/Scenes.ts` | `active_name` field in `Saved_Scene`, `parent_name` serialization |